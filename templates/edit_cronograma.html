<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Editar Atividade do Cronograma</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Editar Atividade do Cronograma</h1>
        <form method="post">
            <label for="atividade_id">ID da Atividade (ex: 1.1, 2.1.1)</label>
            <input type="text" name="atividade_id" id="atividade_id" value="{{ cronograma_item['atividade_id'] }}" required>

            <label for="atividade_descricao">Descrição da Atividade</label>
            <textarea name="atividade_descricao" id="atividade_descricao" required>{{ cronograma_item['atividade_descricao'] }}</textarea>

            <label for="data_inicio">Data de Início</label>
            <input type="date" name="data_inicio" id="data_inicio" value="{{ cronograma_item['data_inicio'] }}">

            <label for="data_termino">Data de Término</label>
            <input type="date" name="data_termino" id="data_termino" value="{{ cronograma_item['data_termino'] }}">

            <label for="duracao">Duração (dias)</label>
            <input type="number" name="duracao" id="duracao" value="{{ cronograma_item['duracao'] }}">

            <label for="responsavel_pm">Responsável PM</label>
            <select name="responsavel_pm" id="responsavel_pm">
                <option value="">Selecione</option>
                {% for tecnico in tecnicos %}
                    <option value="{{ tecnico }}" {% if tecnico == cronograma_item['responsavel_pm'] %}selected{% endif %}>{{ tecnico }}</option>
                {% endfor %}
            </select>

            <label for="responsavel_cm">Responsável CM</label>
            <select name="responsavel_cm" id="responsavel_cm">
                <option value="">Selecione</option>
                {% for tecnico in tecnicos %}
                    <option value="{{ tecnico }}" {% if tecnico == cronograma_item['responsavel_cm'] %}selected{% endif %}>{{ tecnico }}</option>
                {% endfor %}
            </select>
            
            <label for="status">Status</label>
            <select name="status" id="status">
                <option value="Planejada" {% if cronograma_item['status'] == 'Planejada' %}selected{% endif %}>Planejada</option>
                <option value="Em Andamento" {% if cronograma_item['status'] == 'Em Andamento' %}selected{% endif %}>Em Andamento</option>
                <option value="Concluída" {% if cronograma_item['status'] == 'Concluída' %}selected{% endif %}>Concluída</option>
                <option value="Cancelada" {% if cronograma_item['status'] == 'Cancelada' %}selected{% endif %}>Cancelada</option>
            </select>

            <label for="local_execucao">Local de Execução</label>
            <select name="local_execucao" id="local_execucao">
                <option value="">Selecione</option>
                {% for local in locais %}
                    <option value="{{ local }}" {% if local == cronograma_item['local_execucao'] %}selected{% endif %}>{{ local }}</option>
                {% endfor %}
            </select>

            <label for="observacoes">Observações</label>
            <textarea name="observacoes" id="observacoes">{{ cronograma_item['observacoes'] }}</textarea>

            <button type="submit">Atualizar Atividade</button>
        </form>
        <a href="{{ url_for('cronograma') }}" class="button">Cancelar</a>
    </div>
</body>
</html>